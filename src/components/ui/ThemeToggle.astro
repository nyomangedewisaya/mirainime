---
import { Icon } from 'astro-icon/components';
---

<button id="theme-toggle" class="p-2 rounded-full text-slate-600 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-800 transition-colors" aria-label="Toggle Dark Mode">
  <Icon name="lucide:sun" class="w-5 h-5 hidden dark:block" />
  <Icon name="lucide:moon" class="w-5 h-5 block dark:hidden" />
</button>

<script>
  const setupThemeToggle = () => {
    const toggleBtn = document.getElementById("theme-toggle");
    
    if (toggleBtn) {
      toggleBtn.onclick = () => {
        const element = document.documentElement;
        element.classList.toggle("dark");
        
        const isDark = element.classList.contains("dark");
        localStorage.setItem("theme", isDark ? "dark" : "light");
      };
    }
  };

  setupThemeToggle();
</script>