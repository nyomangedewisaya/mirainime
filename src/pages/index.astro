---
import AppLayout from '../layouts/AppLayout.astro';
import { Icon } from 'astro-icon/components';
import logo from '../assets/mirai.png'; 

const galleryImages = [
  "https://s4.anilist.co/file/anilistcdn/media/anime/cover/large/bx16498-73IhOXpJZiMF.jpg", 
  "https://s4.anilist.co/file/anilistcdn/media/anime/cover/large/bx151807-it355ZgzquUd.png",
  "https://s4.anilist.co/file/anilistcdn/media/manga/cover/large/bx159930-qK1P4BNQL0zG.jpg", 
  "https://s4.anilist.co/file/anilistcdn/media/manga/cover/large/bx119257-Pi21aq3ey9GG.jpg", 
  "https://s4.anilist.co/file/anilistcdn/media/anime/cover/large/bx172463-LnXqHzt74SJL.jpg", 
  "https://s4.anilist.co/file/anilistcdn/media/anime/cover/large/bx182255-butzrqd4I0aC.jpg",
  "https://s4.anilist.co/file/anilistcdn/media/anime/cover/large/bx133787-0RQkGL5grRXH.png", 
  "https://s4.anilist.co/file/anilistcdn/media/anime/cover/large/bx21-ELSYx3yMPcKM.jpg", 
  "http://s4.anilist.co/file/anilistcdn/media/anime/cover/large/bx98659-WNyPLIZDpGGY.jpg", 
  "https://s4.anilist.co/file/anilistcdn/media/anime/cover/large/bx181444-Ut9DDUZdfHwg.jpg"     
];
---

<style>
  @keyframes float {
    0% { transform: translateY(0px); }
    50% { transform: translateY(-12px); }
    100% { transform: translateY(0px); }
  }
  .animate-float {
    animation: float 5s ease-in-out infinite;
  }
  
  .perspective-container {
    perspective: 1500px;
  }
  
  .gallery-grid {
    transform: rotateX(15deg) rotateZ(-1deg) scale(1.05) translateY(1rem);
    transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  @media (min-width: 768px) {
    .gallery-grid {
      transform: rotateX(20deg) rotateZ(-2deg) scale(1.02) translateY(2rem);
    }
  }

  .gallery-grid:hover {
    transform: rotateX(0deg) rotateZ(0deg) scale(1) translateY(0);
  }
</style>

<AppLayout title="MiraiNime - The Ultimate Anime & Manga Database">
  
  <div class="fixed inset-0 z-[-2] bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-size[24px_24px]"></div>
  <div class="absolute top-0 inset-x-0 h-screen -z-10 flex justify-center pointer-events-none overflow-hidden">
    <div class="w-80 h-80 md:w-225 md:h-150 bg-primary-500/20 dark:bg-primary-600/15 rounded-full blur-[100px] md:blur-[160px] -translate-y-1/2"></div>
  </div>

  <div class="w-full flex flex-col items-center pt-12 md:pt-16 pb-24 md:pb-32 px-4 text-center relative">
    
    <div class="mb-4 relative group">
      <div class="absolute inset-0 bg-primary-500/30 blur-xl md:blur-2xl rounded-full group-hover:bg-primary-500/50 transition-colors duration-500"></div>
      
      <img 
        src={logo.src} 
        alt="MiraiNime Logo" 
        width={200}
        height={200}
        class="w-24 h-24 md:w-36 md:h-36 object-contain relative z-10 drop-shadow-2xl animate-float cursor-pointer" 
      />
    </div>

    <h1 class="text-4xl sm:text-5xl md:text-7xl lg:text-8xl font-black tracking-tight text-slate-900 dark:text-white mb-4 md:mb-6 leading-[1.15] md:leading-[1.1]">
      Explore the Otaku World <br/>
      <span class="text-transparent bg-clip-text bg-linear-to-r from-primary-500 via-indigo-500 to-purple-500">Without Limits.</span>
    </h1>
    
    <p class="text-base sm:text-lg md:text-xl text-slate-600 dark:text-slate-400 max-w-3xl mb-10 md:mb-12 leading-relaxed font-medium px-2">
      Discover airing schedules, top rankings, favorite characters, and a complete catalog of Anime, Donghua, Aeni, Manga, Manhwa, Manhua, and Light Novels from around the world in one beautiful platform.
    </p>

    <div class="flex flex-col items-center gap-5 w-full max-w-4xl z-20">
      
      <div class="flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4 w-full sm:w-auto">
        <a href="/anime" class="w-full sm:w-auto group flex items-center justify-center gap-2.5 px-8 py-3.5 md:py-4 bg-primary-600 text-white rounded-2xl font-bold text-base md:text-lg hover:bg-primary-500 transition-all duration-300 shadow-md shadow-primary-500/30 hover:shadow-primary-500/50 hover:-translate-y-1">
          <Icon name="lucide:tv" class="w-5 h-5" />
          Watch Anime
        </a>
        
        <a href="/manga" class="w-full sm:w-auto group flex items-center justify-center gap-2.5 px-8 py-3.5 md:py-4 bg-white dark:bg-slate-800/80 text-slate-800 dark:text-white border border-slate-200 dark:border-slate-700 rounded-2xl font-bold text-base md:text-lg hover:border-indigo-500 dark:hover:border-indigo-500 hover:text-indigo-600 dark:hover:text-indigo-400 transition-all duration-300 shadow-sm hover:shadow-lg hover:-translate-y-1 backdrop-blur-sm">
          <Icon name="lucide:book-open" class="w-5 h-5 group-hover:rotate-12 transition-transform" />
          Read Manga
        </a>
      </div>

      <div class="flex flex-wrap items-center justify-center gap-2 md:gap-3 mt-2">
        <a href="/aeni" class="flex items-center gap-1.5 md:gap-2 px-4 md:px-5 py-1.5 md:py-2 rounded-xl bg-slate-100/80 dark:bg-slate-800/50 text-slate-600 dark:text-slate-300 font-semibold text-xs md:text-sm hover:bg-white dark:hover:bg-slate-700 hover:text-blue-500 dark:hover:text-blue-400 hover:shadow-md transition-all border border-transparent hover:border-slate-200 dark:hover:border-slate-600 backdrop-blur-sm cursor-pointer">
          ðŸ‡°ðŸ‡· Aeni
        </a>
        <a href="/donghua" class="flex items-center gap-1.5 md:gap-2 px-4 md:px-5 py-1.5 md:py-2 rounded-xl bg-slate-100/80 dark:bg-slate-800/50 text-slate-600 dark:text-slate-300 font-semibold text-xs md:text-sm hover:bg-white dark:hover:bg-slate-700 hover:text-red-500 dark:hover:text-red-400 hover:shadow-md transition-all border border-transparent hover:border-slate-200 dark:hover:border-slate-600 backdrop-blur-sm cursor-pointer">
          ðŸ‡¨ðŸ‡³ Donghua
        </a>
        <a href="/manhwa" class="flex items-center gap-1.5 md:gap-2 px-4 md:px-5 py-1.5 md:py-2 rounded-xl bg-slate-100/80 dark:bg-slate-800/50 text-slate-600 dark:text-slate-300 font-semibold text-xs md:text-sm hover:bg-white dark:hover:bg-slate-700 hover:text-primary-500 dark:hover:text-primary-400 hover:shadow-md transition-all border border-transparent hover:border-slate-200 dark:hover:border-slate-600 backdrop-blur-sm cursor-pointer">
          ðŸ‡°ðŸ‡· Manhwa
        </a>
        <a href="/manhua" class="flex items-center gap-1.5 md:gap-2 px-4 md:px-5 py-1.5 md:py-2 rounded-xl bg-slate-100/80 dark:bg-slate-800/50 text-slate-600 dark:text-slate-300 font-semibold text-xs md:text-sm hover:bg-white dark:hover:bg-slate-700 hover:text-emerald-500 dark:hover:text-emerald-400 hover:shadow-md transition-all border border-transparent hover:border-slate-200 dark:hover:border-slate-600 backdrop-blur-sm cursor-pointer">
          ðŸ‡¨ðŸ‡³ Manhua
        </a>
        <a href="/novel" class="flex items-center gap-1.5 md:gap-2 px-4 md:px-5 py-1.5 md:py-2 rounded-xl bg-slate-100/80 dark:bg-slate-800/50 text-slate-600 dark:text-slate-300 font-semibold text-xs md:text-sm hover:bg-white dark:hover:bg-slate-700 hover:text-purple-500 dark:hover:text-purple-400 hover:shadow-md transition-all border border-transparent hover:border-slate-200 dark:hover:border-slate-600 backdrop-blur-sm cursor-pointer">
          ðŸ“š Novels
        </a>
      </div>

    </div>

    <div class="mt-16 md:mt-24 w-full max-w-6xl relative perspective-container group z-10">
      
      <div class="gallery-grid grid grid-cols-3 md:grid-cols-5 gap-3 md:gap-5 opacity-90">
        {galleryImages.map((src, index) => {
          // LOGIKA SMART GRID RESPONSIVE
          // Mobile (3 kolom): Kolom tengah (index 1,4,7) naik, kiri-kanan turun.
          let mobileClass = (index % 3 === 1) ? "translate-y-0" : "translate-y-4 sm:translate-y-6";
          
          // Desktop (5 kolom): Kolom ujung bawah, tengah-antara sedikit naik, titik tengah paling atas.
          let desktopClass = "";
          if (index % 5 === 0 || index % 5 === 4) desktopClass = "md:translate-y-12";
          else if (index % 5 === 1 || index % 5 === 3) desktopClass = "md:translate-y-6";
          else desktopClass = "md:translate-y-0";
          
          // SEMBUNYIKAN ITEM KE-10 DI MOBILE agar grid membentuk bujur sangkar sempurna (3x3 = 9 item)
          let displayClass = index === 9 ? "hidden md:block" : "block";
          
          return (
            <div class={`relative aspect-3/4 rounded-xl md:rounded-3xl overflow-hidden shadow-2xl border border-white/20 dark:border-slate-700/50 hover:border-primary-500 dark:hover:border-primary-400 transition-colors duration-300 ${mobileClass} ${desktopClass} ${displayClass}`}>
              <img src={src} alt="Cover" loading="lazy" class="w-full h-full object-cover" />
              <div class="absolute inset-0 bg-linear-to-t from-slate-900/80 via-slate-900/10 to-transparent opacity-60"></div>
            </div>
          );
        })}
      </div>
      
    </div>

  </div>
</AppLayout>